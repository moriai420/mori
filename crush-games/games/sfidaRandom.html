<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<title>Sfida Random ðŸ’–</title>
<link rel="stylesheet" href="../stile.css">
<style>
#canvas {
    border:2px solid pink;
    background: #ffe6f0;
    display:block;
    margin:auto;
}
</style>
</head>
<body>
<div class="container">
<h1>Sfida Random ðŸŽ¯</h1>
<canvas id="canvas" width="300" height="300"></canvas>
<p>Muovi il mouse per spostare il cuore e colpisci il bersaglio!</p>
<p id="risultato"></p>
<a href="../index.html">Torna al menu</a>
</div>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");
let target = {x:150, y:150, r:20};
let player = {x:150, y:250};

canvas.addEventListener("mousemove", e=>{
    const rect = canvas.getBoundingClientRect();
    player.x = e.clientX - rect.left;
    player.y = e.clientY - rect.top;
    draw();
});

function draw() {
    ctx.clearRect(0,0,canvas.width,canvas.height);
    // bersaglio
    ctx.fillStyle = "red";
    ctx.beginPath();
    ctx.arc(target.x,target.y,target.r,0,2*Math.PI);
    ctx.fill();
    // cuore giocatore
    ctx.fillStyle = "pink";
    ctx.beginPath();
    ctx.moveTo(player.x,player.y);
    ctx.arc(player.x,player.y,10,0,Math.PI*2);
    ctx.fill();

    // collisione
    const dx = player.x - target.x;
    const dy = player.y - target.y;
    if(Math.sqrt(dx*dx+dy*dy) < target.r + 10) {
        document.getElementById("risultato").innerText = "ðŸŽ‰ Hai colpito il bersaglio!";
    } else {
        document.getElementById("risultato").innerText = "";
    }
}
draw();
</script>
</body>
</html>
